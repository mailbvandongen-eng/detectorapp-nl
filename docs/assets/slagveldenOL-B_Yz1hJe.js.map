{"version":3,"file":"slagveldenOL-B_Yz1hJe.js","sources":["../../src/layers/slagveldenOL.ts"],"sourcesContent":["import { Vector as VectorLayer } from 'ol/layer'\r\nimport { Vector as VectorSource } from 'ol/source'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Icon } from 'ol/style'\r\n\r\n// Slagvelden (Battlefields) from OpenStreetMap\r\n// Includes historic battles and WWII locations like Arnhem, Overloon, Sloedam\r\n\r\nexport async function createSlagveldenLayerOL(): Promise<VectorLayer<VectorSource>> {\r\n  try {\r\n    const response = await fetch('/detectorapp-nl/data/military/slagvelden.geojson')\r\n    if (!response.ok) throw new Error('Failed to load slagvelden data')\r\n\r\n    const geojson = await response.json()\r\n\r\n    const source = new VectorSource({\r\n      features: new GeoJSON().readFeatures(geojson, {\r\n        dataProjection: 'EPSG:4326',\r\n        featureProjection: 'EPSG:3857'\r\n      })\r\n    })\r\n\r\n    const layer = new VectorLayer({\r\n      source,\r\n      properties: { title: 'Slagvelden' },\r\n      visible: false,\r\n      zIndex: 35,\r\n      style: new Style({\r\n        image: new Icon({\r\n          src: 'data:image/svg+xml,' + encodeURIComponent(`\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\">\r\n              <circle cx=\"12\" cy=\"12\" r=\"11\" fill=\"#dc2626\" stroke=\"white\" stroke-width=\"2\"/>\r\n              <path d=\"M12 6l2 4h4l-3 3 1 5-4-2-4 2 1-5-3-3h4z\" fill=\"white\"/>\r\n            </svg>\r\n          `),\r\n          scale: 1,\r\n          anchor: [0.5, 0.5]\r\n        })\r\n      })\r\n    })\r\n\r\n    console.log(`⚔️ Slagvelden loaded (${geojson.features.length} locations)`)\r\n    return layer\r\n  } catch (error) {\r\n    console.error('Failed to load slagvelden:', error)\r\n    return new VectorLayer({\r\n      source: new VectorSource(),\r\n      properties: { title: 'Slagvelden' },\r\n      visible: false,\r\n      zIndex: 35\r\n    })\r\n  }\r\n}\r\n"],"names":["createSlagveldenLayerOL","response","geojson","source","VectorSource","GeoJSON","layer","VectorLayer","Style","Icon","error"],"mappings":"wGAQA,eAAsBA,GAA8D,CAClF,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,kDAAkD,EAC/E,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAM,gCAAgC,EAElE,MAAMC,EAAU,MAAMD,EAAS,KAAA,EAEzBE,EAAS,IAAIC,EAAa,CAC9B,SAAU,IAAIC,IAAU,aAAaH,EAAS,CAC5C,eAAgB,YAChB,kBAAmB,WAAA,CACpB,CAAA,CACF,EAEKI,EAAQ,IAAIC,EAAY,CAC5B,OAAAJ,EACA,WAAY,CAAE,MAAO,YAAA,EACrB,QAAS,GACT,OAAQ,GACR,MAAO,IAAIK,EAAM,CACf,MAAO,IAAIC,EAAK,CACd,IAAK,sBAAwB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA,WAK/C,EACD,MAAO,EACP,OAAQ,CAAC,GAAK,EAAG,CAAA,CAClB,CAAA,CACF,CAAA,CACF,EAED,eAAQ,IAAI,yBAAyBP,EAAQ,SAAS,MAAM,aAAa,EAClEI,CACT,OAASI,EAAO,CACd,eAAQ,MAAM,6BAA8BA,CAAK,EAC1C,IAAIH,EAAY,CACrB,OAAQ,IAAIH,EACZ,WAAY,CAAE,MAAO,YAAA,EACrB,QAAS,GACT,OAAQ,EAAA,CACT,CACH,CACF"}