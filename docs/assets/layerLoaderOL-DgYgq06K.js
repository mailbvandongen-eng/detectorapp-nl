import{G as y}from"./index-DDSgDFZm.js";function h(e){return e}function b(e){if(e==null)return h;var t,n,a=e.scale[0],c=e.scale[1],i=e.translate[0],p=e.translate[1];return function(l,d){d||(t=n=0);var u=2,r=l.length,o=new Array(r);for(o[0]=(t+=l[0])*a+i,o[1]=(n+=l[1])*c+p;u<r;)o[u]=l[u],++u;return o}}function w(e,t){for(var n,a=e.length,c=a-t;c<--a;)n=e[c],e[c++]=e[a],e[a]=n}function j(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return m(e,n)})}:m(e,t)}function m(e,t){var n=t.id,a=t.bbox,c=t.properties==null?{}:t.properties,i=v(e,t);return n==null&&a==null?{type:"Feature",properties:c,geometry:i}:a==null?{type:"Feature",id:n,properties:c,geometry:i}:{type:"Feature",id:n,bbox:a,properties:c,geometry:i}}function v(e,t){var n=b(e.transform),a=e.arcs;function c(r,o){o.length&&o.pop();for(var s=a[r<0?~r:r],f=0,g=s.length;f<g;++f)o.push(n(s[f],f));r<0&&w(o,g)}function i(r){return n(r)}function p(r){for(var o=[],s=0,f=r.length;s<f;++s)c(r[s],o);return o.length<2&&o.push(o[0]),o}function l(r){for(var o=p(r);o.length<4;)o.push(o[0]);return o}function d(r){return r.map(l)}function u(r){var o=r.type,s;switch(o){case"GeometryCollection":return{type:o,geometries:r.geometries.map(u)};case"Point":s=i(r.coordinates);break;case"MultiPoint":s=r.coordinates.map(i);break;case"LineString":s=p(r.arcs);break;case"MultiLineString":s=r.arcs.map(p);break;case"Polygon":s=d(r.arcs);break;case"MultiPolygon":s=r.arcs.map(d);break;default:return null}return{type:o,coordinates:s}}return u(t)}async function x(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load ${e}: ${t.statusText}`);const n=await t.json();return console.log(`✓ Loaded GeoJSON from ${e}`),n}catch(t){throw console.error(`Error loading GeoJSON from ${e}:`,t),t}}async function G(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load ${e}: ${t.statusText}`);const n=await t.json(),a=Object.keys(n.objects)[0],c=j(n,n.objects[a]);return console.log(`✓ Loaded and converted TopoJSON from ${e}`),c}catch(t){throw console.error(`Error loading TopoJSON from ${e}:`,t),t}}function N(e){return new y({featureProjection:"EPSG:3857"}).readFeatures(e)}export{x as a,G as l,N as p};
//# sourceMappingURL=layerLoaderOL-DgYgq06K.js.map
