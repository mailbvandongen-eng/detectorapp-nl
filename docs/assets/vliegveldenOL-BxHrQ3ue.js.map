{"version":3,"file":"vliegveldenOL-BxHrQ3ue.js","sources":["../../src/layers/vliegveldenOL.ts"],"sourcesContent":["import { Vector as VectorLayer } from 'ol/layer'\r\nimport { Vector as VectorSource } from 'ol/source'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport { Style, Icon } from 'ol/style'\r\n\r\n// Militaire Vliegvelden (Military Airfields) from OpenStreetMap\r\n// Includes active and historic military air bases\r\n\r\nexport async function createVliegveldenLayerOL(): Promise<VectorLayer<VectorSource>> {\r\n  try {\r\n    const response = await fetch('/detectorapp-nl/data/military/vliegvelden.geojson')\r\n    if (!response.ok) throw new Error('Failed to load vliegvelden data')\r\n\r\n    const geojson = await response.json()\r\n\r\n    const source = new VectorSource({\r\n      features: new GeoJSON().readFeatures(geojson, {\r\n        dataProjection: 'EPSG:4326',\r\n        featureProjection: 'EPSG:3857'\r\n      })\r\n    })\r\n\r\n    const layer = new VectorLayer({\r\n      source,\r\n      properties: { title: 'Militaire Vliegvelden' },\r\n      visible: false,\r\n      zIndex: 34,\r\n      style: new Style({\r\n        image: new Icon({\r\n          src: 'data:image/svg+xml,' + encodeURIComponent(`\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\">\r\n              <circle cx=\"12\" cy=\"12\" r=\"11\" fill=\"#0369a1\" stroke=\"white\" stroke-width=\"2\"/>\r\n              <path d=\"M12 4l-1 5H5l2 3-2 3h6l1 5 1-5h6l-2-3 2-3h-6z\" fill=\"white\"/>\r\n            </svg>\r\n          `),\r\n          scale: 1,\r\n          anchor: [0.5, 0.5]\r\n        })\r\n      })\r\n    })\r\n\r\n    console.log(`✈️ Militaire Vliegvelden loaded (${geojson.features.length} locations)`)\r\n    return layer\r\n  } catch (error) {\r\n    console.error('Failed to load vliegvelden:', error)\r\n    return new VectorLayer({\r\n      source: new VectorSource(),\r\n      properties: { title: 'Militaire Vliegvelden' },\r\n      visible: false,\r\n      zIndex: 34\r\n    })\r\n  }\r\n}\r\n"],"names":["createVliegveldenLayerOL","response","geojson","source","VectorSource","GeoJSON","layer","VectorLayer","Style","Icon","error"],"mappings":"oEAQA,eAAsBA,GAA+D,CACnF,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,mDAAmD,EAChF,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAM,iCAAiC,EAEnE,MAAMC,EAAU,MAAMD,EAAS,KAAA,EAEzBE,EAAS,IAAIC,EAAa,CAC9B,SAAU,IAAIC,IAAU,aAAaH,EAAS,CAC5C,eAAgB,YAChB,kBAAmB,WAAA,CACpB,CAAA,CACF,EAEKI,EAAQ,IAAIC,EAAY,CAC5B,OAAAJ,EACA,WAAY,CAAE,MAAO,uBAAA,EACrB,QAAS,GACT,OAAQ,GACR,MAAO,IAAIK,EAAM,CACf,MAAO,IAAIC,EAAK,CACd,IAAK,sBAAwB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA,WAK/C,EACD,MAAO,EACP,OAAQ,CAAC,GAAK,EAAG,CAAA,CAClB,CAAA,CACF,CAAA,CACF,EAED,eAAQ,IAAI,oCAAoCP,EAAQ,SAAS,MAAM,aAAa,EAC7EI,CACT,OAASI,EAAO,CACd,eAAQ,MAAM,8BAA+BA,CAAK,EAC3C,IAAIH,EAAY,CACrB,OAAQ,IAAIH,EACZ,WAAY,CAAE,MAAO,uBAAA,EACrB,QAAS,GACT,OAAQ,EAAA,CACT,CACH,CACF"}