{"version":3,"file":"archisOL-CuZ44hyi.js","sources":["../../src/layers/archisOL.ts"],"sourcesContent":["/**\n * Archis-punten Layer for OpenLayers\n * Archaeological find spots - NO clustering (v3.6.3)\n * Excludes Kromme Rijn aardewerk (separate layer)\n */\n\nimport { Vector as VectorLayer } from 'ol/layer'\nimport { Vector as VectorSource } from 'ol/source'\nimport { loadGeoJSON, parseGeoJSON } from '../utils/layerLoaderOL.js'\nimport { createDynamicIconStyle } from './iconStyles'\n\n// Category colors\nconst CATEGORY_COLORS: Record<string, string> = {\n  'aardewerk': '#dc2626',    // Red\n  'site': '#7c3aed',         // Purple\n  'grafveld': '#16a34a',     // Green\n  'beleidskaart': '#7c3aed', // Purple\n  'metaal': '#ea580c',       // Orange\n  'overig': '#7c3aed',       // Purple\n  'undefined': '#7c3aed'     // Purple\n}\n\nexport async function createArchisPuntenLayerOL() {\n  try {\n    const geojson = await loadGeoJSON('/detectorapp-nl/data/punten_custom.geojson')\n    const allFeatures = parseGeoJSON(geojson)\n\n    // Filter OUT Kromme Rijn aardewerk (those go in separate layer)\n    const features = allFeatures.filter(feature => {\n      const category = feature.get('category')\n      const toelichting = feature.get('toelichting') || ''\n\n      // Exclude if it's pottery (aardewerk) from Kromme Rijn area\n      const isKrommeRijnAardewerk =\n        category === 'aardewerk' &&\n        toelichting.toLowerCase().includes('kromme rijn')\n\n      return !isKrommeRijnAardewerk\n    })\n\n    // Create vector source (NO clustering)\n    const vectorSource = new VectorSource({ features })\n\n    const layer = new VectorLayer({\n      properties: { title: 'Archis-punten', type: 'overlay' },\n      source: vectorSource,\n      visible: false,\n      style: createDynamicIconStyle('mapPin', (feature) => {\n        const category = feature.get('category') || 'site'\n        return CATEGORY_COLORS[category] || '#7c3aed'\n      }),\n      zIndex: 30\n    })\n\n    console.log(`âœ“ Archis-punten loaded (${features.length} points, no clustering, Kromme Rijn aardewerk excluded)`)\n    return layer\n\n  } catch (error) {\n    console.error('Failed to load Archis-punten layer:', error)\n    return null\n  }\n}\n"],"names":["CATEGORY_COLORS","createArchisPuntenLayerOL","geojson","loadGeoJSON","features","parseGeoJSON","feature","category","toelichting","vectorSource","VectorSource","layer","VectorLayer","createDynamicIconStyle","error"],"mappings":"iLAYA,MAAMA,EAA0C,CAC9C,UAAa,UACb,KAAQ,UACR,SAAY,UACZ,aAAgB,UAChB,OAAU,UACV,OAAU,UACV,UAAa,SACf,EAEA,eAAsBC,GAA4B,CAChD,GAAI,CACF,MAAMC,EAAU,MAAMC,EAAY,4CAA4C,EAIxEC,EAHcC,EAAaH,CAAO,EAGX,OAAOI,GAAW,CAC7C,MAAMC,EAAWD,EAAQ,IAAI,UAAU,EACjCE,EAAcF,EAAQ,IAAI,aAAa,GAAK,GAOlD,MAAO,EAHLC,IAAa,aACbC,EAAY,YAAA,EAAc,SAAS,aAAa,EAGpD,CAAC,EAGKC,EAAe,IAAIC,EAAa,CAAE,SAAAN,EAAU,EAE5CO,EAAQ,IAAIC,EAAY,CAC5B,WAAY,CAAE,MAAO,gBAAiB,KAAM,SAAA,EAC5C,OAAQH,EACR,QAAS,GACT,MAAOI,EAAuB,SAAWP,GAAY,CACnD,MAAMC,EAAWD,EAAQ,IAAI,UAAU,GAAK,OAC5C,OAAON,EAAgBO,CAAQ,GAAK,SACtC,CAAC,EACD,OAAQ,EAAA,CACT,EAED,eAAQ,IAAI,2BAA2BH,EAAS,MAAM,yDAAyD,EACxGO,CAET,OAASG,EAAO,CACd,eAAQ,MAAM,sCAAuCA,CAAK,EACnD,IACT,CACF"}